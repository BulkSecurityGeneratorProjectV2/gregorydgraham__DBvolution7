language: java
dist: xenial
sudo: required
addons:
    postgresql: 9.6
    apt:
    packages:
      - postgresql-9.6-postgis-2.3
script: "mvn -q -B -s .travis-settings.xml -P DBs-OpenSource,Cluster-OpenSource test "
services:
  - mysql
  - postgresql
  
jdk:
  - openjdk10
#  - oraclejdk8
#notifications:
#  email: false
before_install:
  - mysql -e 'CREATE DATABASE IF NOT EXISTS dbvtest;'
  - mysql -e 'CREATE DATABASE IF NOT EXISTS dbvtest_cluster;'
  - mysql -V
  - psql -c 'create database dbvtest;' -U postgres
  - psql -c 'create database dbvtest_cluster;' -U postgres
  - psql --version
before_script: 
  - psql -U postgres -c "create extension postgis"
  